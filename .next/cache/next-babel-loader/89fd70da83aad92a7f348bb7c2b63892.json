{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport OfferProduct from 'models/OfferProduct';\nexport let PeriodTypes;\n\n(function (PeriodTypes) {\n  PeriodTypes[\"Single\"] = \"single\";\n  PeriodTypes[\"Recurring\"] = \"recurring\";\n})(PeriodTypes || (PeriodTypes = {}));\n\nexport let NoticePeriodDurationTypes;\n\n(function (NoticePeriodDurationTypes) {\n  NoticePeriodDurationTypes[\"Days\"] = \"days\";\n  NoticePeriodDurationTypes[\"Months\"] = \"months\";\n  NoticePeriodDurationTypes[\"Years\"] = \"years\";\n})(NoticePeriodDurationTypes || (NoticePeriodDurationTypes = {}));\n\nexport let Types;\n\n(function (Types) {\n  Types[\"Single\"] = \"single\";\n  Types[\"Metamorphosis\"] = \"metamorphosis\";\n  Types[\"Flexible\"] = \"flexible\";\n})(Types || (Types = {}));\n\nexport default class Offer {\n  constructor(data) {\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"slug\", void 0);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"periodType\", void 0);\n\n    _defineProperty(this, \"products\", void 0);\n\n    _defineProperty(this, \"noticePeriodDurationType\", void 0);\n\n    _defineProperty(this, \"noticePeriodDurationValue\", void 0);\n\n    _defineProperty(this, \"type\", void 0);\n\n    _defineProperty(this, \"typeOption\", void 0);\n\n    _defineProperty(this, \"getType\", (periodType, noticePeriodDurationValue) => {\n      if (periodType === PeriodTypes.Single) {\n        return Types.Single;\n      }\n\n      if (periodType === PeriodTypes.Recurring && noticePeriodDurationValue) {\n        return Types.Metamorphosis;\n      }\n\n      return Types.Flexible;\n    });\n\n    _defineProperty(this, \"getTypeOption\", type => {\n      return typeOptions.find(option => option.value === type) || null;\n    });\n\n    this.id = data.id;\n    this.slug = data.slug;\n    this.name = data.name;\n    this.periodType = data.periodType;\n    this.products = Array.isArray(data.products) ? data.products.map(product => new OfferProduct(product)) : [];\n    this.noticePeriodDurationType = data.noticePeriodDurationType;\n    this.noticePeriodDurationValue = data.noticePeriodDurationValue;\n    this.type = this.getType(this.periodType, this.noticePeriodDurationValue);\n    this.typeOption = this.getTypeOption(this.type);\n  }\n\n}\nexport const typeOptions = [{\n  value: Types.Single,\n  label: 'Pojedyncza'\n}, {\n  value: Types.Metamorphosis,\n  label: 'Metamorfoza'\n}, {\n  value: Types.Flexible,\n  label: 'Elastyczna'\n}];","map":{"version":3,"sources":["/home/bartosz/Pulpit/inz/my-app/src/models/Offer.ts"],"names":["OfferProduct","PeriodTypes","NoticePeriodDurationTypes","Types","Offer","constructor","data","periodType","noticePeriodDurationValue","Single","Recurring","Metamorphosis","Flexible","type","typeOptions","find","option","value","id","slug","name","products","Array","isArray","map","product","noticePeriodDurationType","getType","typeOption","getTypeOption","label"],"mappings":";;AAKA,OAAOA,YAAP,MAAyB,qBAAzB;AAEA,WAAYC,WAAZ;;WAAYA,W;AAAAA,EAAAA,W;AAAAA,EAAAA,W;GAAAA,W,KAAAA,W;;AAKZ,WAAYC,yBAAZ;;WAAYA,yB;AAAAA,EAAAA,yB;AAAAA,EAAAA,yB;AAAAA,EAAAA,yB;GAAAA,yB,KAAAA,yB;;AAMZ,WAAYC,KAAZ;;WAAYA,K;AAAAA,EAAAA,K;AAAAA,EAAAA,K;AAAAA,EAAAA,K;GAAAA,K,KAAAA,K;;AAMZ,eAAe,MAAMC,KAAN,CAA6B;AAWxCC,EAAAA,WAAW,CAACC,IAAD,EAAiB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,qCAclB,CAACC,UAAD,EAA0BC,yBAA1B,KAAuE;AAC7E,UAAGD,UAAU,KAAKN,WAAW,CAACQ,MAA9B,EAAsC;AAClC,eAAON,KAAK,CAACM,MAAb;AACH;;AAED,UAAGF,UAAU,KAAKN,WAAW,CAACS,SAA3B,IAAwCF,yBAA3C,EAAsE;AAClE,eAAOL,KAAK,CAACQ,aAAb;AACH;;AAED,aAAOR,KAAK,CAACS,QAAb;AACH,KAxB2B;;AAAA,2CA0BXC,IAAD,IAAgC;AAC5C,aAAOC,WAAW,CAACC,IAAZ,CAAiBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBJ,IAA5C,KAAqD,IAA5D;AACH,KA5B2B;;AACxB,SAAKK,EAAL,GAAUZ,IAAI,CAACY,EAAf;AACA,SAAKC,IAAL,GAAYb,IAAI,CAACa,IAAjB;AACA,SAAKC,IAAL,GAAYd,IAAI,CAACc,IAAjB;AACA,SAAKb,UAAL,GAAkBD,IAAI,CAACC,UAAvB;AACA,SAAKc,QAAL,GAAgBC,KAAK,CAACC,OAAN,CAAcjB,IAAI,CAACe,QAAnB,IACVf,IAAI,CAACe,QAAL,CAAcG,GAAd,CAAkBC,OAAO,IAAI,IAAIzB,YAAJ,CAAiByB,OAAjB,CAA7B,CADU,GAEV,EAFN;AAGA,SAAKC,wBAAL,GAAgCpB,IAAI,CAACoB,wBAArC;AACA,SAAKlB,yBAAL,GAAiCF,IAAI,CAACE,yBAAtC;AACA,SAAKK,IAAL,GAAY,KAAKc,OAAL,CAAa,KAAKpB,UAAlB,EAA8B,KAAKC,yBAAnC,CAAZ;AACA,SAAKoB,UAAL,GAAkB,KAAKC,aAAL,CAAmB,KAAKhB,IAAxB,CAAlB;AACH;;AAvBuC;AA0C5C,OAAO,MAAMC,WAA4B,GAAG,CAAC;AACzCG,EAAAA,KAAK,EAAEd,KAAK,CAACM,MAD4B;AAEzCqB,EAAAA,KAAK,EAAE;AAFkC,CAAD,EAGzC;AACCb,EAAAA,KAAK,EAAEd,KAAK,CAACQ,aADd;AAECmB,EAAAA,KAAK,EAAE;AAFR,CAHyC,EAMzC;AACCb,EAAAA,KAAK,EAAEd,KAAK,CAACS,QADd;AAECkB,EAAAA,KAAK,EAAE;AAFR,CANyC,CAArC","sourcesContent":["import Model from 'models/Model';\n\nimport ApiOffer from 'types/api/Offer';\nimport { Option } from 'types/options';\n\nimport OfferProduct from 'models/OfferProduct';\n\nexport enum PeriodTypes {\n    Single = 'single',\n    Recurring = 'recurring',\n}\n\nexport enum NoticePeriodDurationTypes {\n    Days = 'days',\n    Months = 'months',\n    Years = 'years',\n}\n\nexport enum Types {\n    Single = 'single',\n    Metamorphosis = 'metamorphosis',\n    Flexible = 'flexible',\n}\n\nexport default class Offer implements Model {\n    id: string;\n    slug: string;\n    name: string;\n    periodType: PeriodTypes;\n    products: OfferProduct[];\n    noticePeriodDurationType: NoticePeriodDurationTypes;\n    noticePeriodDurationValue: number;\n    type: Types;\n    typeOption: Option<Types>;\n\n    constructor(data: ApiOffer) {\n        this.id = data.id;\n        this.slug = data.slug;\n        this.name = data.name;\n        this.periodType = data.periodType;\n        this.products = Array.isArray(data.products)\n            ? data.products.map(product => new OfferProduct(product))\n            : [];\n        this.noticePeriodDurationType = data.noticePeriodDurationType;\n        this.noticePeriodDurationValue = data.noticePeriodDurationValue;\n        this.type = this.getType(this.periodType, this.noticePeriodDurationValue);\n        this.typeOption = this.getTypeOption(this.type);\n    }\n\n    getType = (periodType: PeriodTypes, noticePeriodDurationValue: number): Types => {\n        if(periodType === PeriodTypes.Single) {\n            return Types.Single;\n        }\n\n        if(periodType === PeriodTypes.Recurring && noticePeriodDurationValue) {\n            return Types.Metamorphosis\n        }\n\n        return Types.Flexible;\n    }\n\n    getTypeOption = (type: Types): Option<Types> => {\n        return typeOptions.find(option => option.value === type) || null;\n    }\n}\n\nexport const typeOptions: Option<Types>[] = [{\n    value: Types.Single,\n    label: 'Pojedyncza',\n}, {\n    value: Types.Metamorphosis,\n    label: 'Metamorfoza',\n}, {\n    value: Types.Flexible,\n    label: 'Elastyczna',\n}]"]},"metadata":{},"sourceType":"module"}