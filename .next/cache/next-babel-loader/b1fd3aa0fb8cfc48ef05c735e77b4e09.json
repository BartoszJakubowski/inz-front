{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport OfferProduct from 'models/OfferProduct';\nexport var PeriodTypes;\n\n(function (PeriodTypes) {\n  PeriodTypes[\"Single\"] = \"single\";\n  PeriodTypes[\"Recurring\"] = \"recurring\";\n})(PeriodTypes || (PeriodTypes = {}));\n\nexport var NoticePeriodDurationTypes;\n\n(function (NoticePeriodDurationTypes) {\n  NoticePeriodDurationTypes[\"Days\"] = \"days\";\n  NoticePeriodDurationTypes[\"Months\"] = \"months\";\n  NoticePeriodDurationTypes[\"Years\"] = \"years\";\n})(NoticePeriodDurationTypes || (NoticePeriodDurationTypes = {}));\n\nexport var Types;\n\n(function (Types) {\n  Types[\"Single\"] = \"single\";\n  Types[\"Metamorphosis\"] = \"metamorphosis\";\n  Types[\"Flexible\"] = \"flexible\";\n})(Types || (Types = {}));\n\nvar Offer = function Offer(data) {\n  _classCallCheck(this, Offer);\n\n  _defineProperty(this, \"id\", void 0);\n\n  _defineProperty(this, \"slug\", void 0);\n\n  _defineProperty(this, \"name\", void 0);\n\n  _defineProperty(this, \"periodType\", void 0);\n\n  _defineProperty(this, \"products\", void 0);\n\n  _defineProperty(this, \"noticePeriodDurationType\", void 0);\n\n  _defineProperty(this, \"noticePeriodDurationValue\", void 0);\n\n  _defineProperty(this, \"type\", void 0);\n\n  _defineProperty(this, \"typeOption\", void 0);\n\n  _defineProperty(this, \"getType\", function (periodType, noticePeriodDurationValue) {\n    if (periodType === PeriodTypes.Single) {\n      return Types.Single;\n    }\n\n    if (periodType === PeriodTypes.Recurring && noticePeriodDurationValue) {\n      return Types.Metamorphosis;\n    }\n\n    return Types.Flexible;\n  });\n\n  _defineProperty(this, \"getTypeOption\", function (type) {\n    return typeOptions.find(function (option) {\n      return option.value === type;\n    }) || null;\n  });\n\n  this.id = data.id;\n  this.slug = data.slug;\n  this.name = data.name;\n  this.periodType = data.periodType;\n  this.products = Array.isArray(data.products) ? data.products.map(function (product) {\n    return new OfferProduct(product);\n  }) : [];\n  this.noticePeriodDurationType = data.noticePeriodDurationType;\n  this.noticePeriodDurationValue = data.noticePeriodDurationValue;\n  this.type = this.getType(this.periodType, this.noticePeriodDurationValue);\n  this.typeOption = this.getTypeOption(this.type);\n};\n\nexport { Offer as default };\nexport var typeOptions = [{\n  value: Types.Single,\n  label: 'Pojedyncza'\n}, {\n  value: Types.Metamorphosis,\n  label: 'Metamorfoza'\n}, {\n  value: Types.Flexible,\n  label: 'Elastyczna'\n}];","map":{"version":3,"sources":["/home/bartosz/Pulpit/inz/my-app/src/models/Offer.ts"],"names":["OfferProduct","PeriodTypes","NoticePeriodDurationTypes","Types","Offer","data","periodType","noticePeriodDurationValue","Single","Recurring","Metamorphosis","Flexible","type","typeOptions","find","option","value","id","slug","name","products","Array","isArray","map","product","noticePeriodDurationType","getType","typeOption","getTypeOption","label"],"mappings":";;AAKA,OAAOA,YAAP,MAAyB,qBAAzB;AAEA,WAAYC,WAAZ;;WAAYA,W;AAAAA,EAAAA,W;AAAAA,EAAAA,W;GAAAA,W,KAAAA,W;;AAKZ,WAAYC,yBAAZ;;WAAYA,yB;AAAAA,EAAAA,yB;AAAAA,EAAAA,yB;AAAAA,EAAAA,yB;GAAAA,yB,KAAAA,yB;;AAMZ,WAAYC,KAAZ;;WAAYA,K;AAAAA,EAAAA,K;AAAAA,EAAAA,K;AAAAA,EAAAA,K;GAAAA,K,KAAAA,K;;IAMSC,K,GAWjB,eAAYC,IAAZ,EAA4B;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,mCAclB,UAACC,UAAD,EAA0BC,yBAA1B,EAAuE;AAC7E,QAAGD,UAAU,KAAKL,WAAW,CAACO,MAA9B,EAAsC;AAClC,aAAOL,KAAK,CAACK,MAAb;AACH;;AAED,QAAGF,UAAU,KAAKL,WAAW,CAACQ,SAA3B,IAAwCF,yBAA3C,EAAsE;AAClE,aAAOJ,KAAK,CAACO,aAAb;AACH;;AAED,WAAOP,KAAK,CAACQ,QAAb;AACH,GAxB2B;;AAAA,yCA0BZ,UAACC,IAAD,EAAgC;AAC5C,WAAOC,WAAW,CAACC,IAAZ,CAAiB,UAAAC,MAAM;AAAA,aAAIA,MAAM,CAACC,KAAP,KAAiBJ,IAArB;AAAA,KAAvB,KAAqD,IAA5D;AACH,GA5B2B;;AACxB,OAAKK,EAAL,GAAUZ,IAAI,CAACY,EAAf;AACA,OAAKC,IAAL,GAAYb,IAAI,CAACa,IAAjB;AACA,OAAKC,IAAL,GAAYd,IAAI,CAACc,IAAjB;AACA,OAAKb,UAAL,GAAkBD,IAAI,CAACC,UAAvB;AACA,OAAKc,QAAL,GAAgBC,KAAK,CAACC,OAAN,CAAcjB,IAAI,CAACe,QAAnB,IACVf,IAAI,CAACe,QAAL,CAAcG,GAAd,CAAkB,UAAAC,OAAO;AAAA,WAAI,IAAIxB,YAAJ,CAAiBwB,OAAjB,CAAJ;AAAA,GAAzB,CADU,GAEV,EAFN;AAGA,OAAKC,wBAAL,GAAgCpB,IAAI,CAACoB,wBAArC;AACA,OAAKlB,yBAAL,GAAiCF,IAAI,CAACE,yBAAtC;AACA,OAAKK,IAAL,GAAY,KAAKc,OAAL,CAAa,KAAKpB,UAAlB,EAA8B,KAAKC,yBAAnC,CAAZ;AACA,OAAKoB,UAAL,GAAkB,KAAKC,aAAL,CAAmB,KAAKhB,IAAxB,CAAlB;AACH,C;;SAvBgBR,K;AA0CrB,OAAO,IAAMS,WAA4B,GAAG,CAAC;AACzCG,EAAAA,KAAK,EAAEb,KAAK,CAACK,MAD4B;AAEzCqB,EAAAA,KAAK,EAAE;AAFkC,CAAD,EAGzC;AACCb,EAAAA,KAAK,EAAEb,KAAK,CAACO,aADd;AAECmB,EAAAA,KAAK,EAAE;AAFR,CAHyC,EAMzC;AACCb,EAAAA,KAAK,EAAEb,KAAK,CAACQ,QADd;AAECkB,EAAAA,KAAK,EAAE;AAFR,CANyC,CAArC","sourcesContent":["import Model from 'models/Model';\n\nimport ApiOffer from 'types/api/Offer';\nimport { Option } from 'types/options';\n\nimport OfferProduct from 'models/OfferProduct';\n\nexport enum PeriodTypes {\n    Single = 'single',\n    Recurring = 'recurring',\n}\n\nexport enum NoticePeriodDurationTypes {\n    Days = 'days',\n    Months = 'months',\n    Years = 'years',\n}\n\nexport enum Types {\n    Single = 'single',\n    Metamorphosis = 'metamorphosis',\n    Flexible = 'flexible',\n}\n\nexport default class Offer implements Model {\n    id: string;\n    slug: string;\n    name: string;\n    periodType: PeriodTypes;\n    products: OfferProduct[];\n    noticePeriodDurationType: NoticePeriodDurationTypes;\n    noticePeriodDurationValue: number;\n    type: Types;\n    typeOption: Option<Types>;\n\n    constructor(data: ApiOffer) {\n        this.id = data.id;\n        this.slug = data.slug;\n        this.name = data.name;\n        this.periodType = data.periodType;\n        this.products = Array.isArray(data.products)\n            ? data.products.map(product => new OfferProduct(product))\n            : [];\n        this.noticePeriodDurationType = data.noticePeriodDurationType;\n        this.noticePeriodDurationValue = data.noticePeriodDurationValue;\n        this.type = this.getType(this.periodType, this.noticePeriodDurationValue);\n        this.typeOption = this.getTypeOption(this.type);\n    }\n\n    getType = (periodType: PeriodTypes, noticePeriodDurationValue: number): Types => {\n        if(periodType === PeriodTypes.Single) {\n            return Types.Single;\n        }\n\n        if(periodType === PeriodTypes.Recurring && noticePeriodDurationValue) {\n            return Types.Metamorphosis\n        }\n\n        return Types.Flexible;\n    }\n\n    getTypeOption = (type: Types): Option<Types> => {\n        return typeOptions.find(option => option.value === type) || null;\n    }\n}\n\nexport const typeOptions: Option<Types>[] = [{\n    value: Types.Single,\n    label: 'Pojedyncza',\n}, {\n    value: Types.Metamorphosis,\n    label: 'Metamorfoza',\n}, {\n    value: Types.Flexible,\n    label: 'Elastyczna',\n}]"]},"metadata":{},"sourceType":"module"}